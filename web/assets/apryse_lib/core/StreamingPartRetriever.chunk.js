/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{527:function(wa,sa,r){r.r(sa);var pa=r(0),na=r(1);r.n(na);var oa=r(3),ia=r(177);wa=r(51);var ka=r(113),ha=r(295),y=r(86),x=r(294);r=r(439);var f=window,e=function(){function h(n,w,z){var ca=-1===n.indexOf("?")?"?":"&";switch(w){case y.a.NEVER_CACHE:this.url=n+ca+"_="+Object(na.uniqueId)();break;default:this.url=n}this.hg=z;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}h.prototype.start=function(n,w){var z=this,ca=this,ea=this.request,ba;ca.VA=0;n&&Object.keys(n).forEach(function(fa){z.request.setRequestHeader(fa,n[fa])});w&&(this.request.withCredentials=w);this.GI=setInterval(function(){var fa=0===window.document.URL.indexOf("file:///");fa=200===ea.status||
fa&&0===ea.status;if(ea.readyState!==x.b.DONE||fa){try{ea.responseText}catch(aa){return}ca.VA<ea.responseText.length&&(ba=ca.rva())&&ca.trigger(h.Events.DATA,[ba]);0===ea.readyState&&(clearInterval(ca.GI),ca.trigger(h.Events.DONE))}else clearInterval(ca.GI),ca.trigger(h.Events.DONE,["Error received return status "+ea.status])},1E3);this.request.send(null);this.status=x.a.STARTED};h.prototype.rva=function(){var n=this.request,w=n.responseText;if(0!==w.length)if(this.VA===w.length)clearInterval(this.GI),
this.trigger(h.Events.DONE);else return w=Math.min(this.VA+3E6,w.length),n=f.z1(n,this.VA,!0,w),this.VA=w,n};h.prototype.abort=function(){clearInterval(this.GI);var n=this;this.request.onreadystatechange=function(){Object(oa.j)("StreamingRequest aborted");n.status=x.a.ABORTED;return n.trigger(h.Events.ABORTED)};this.request.abort()};h.prototype.finish=function(){var n=this;this.request.onreadystatechange=function(){n.status=x.a.SUCCESS;return n.trigger(h.Events.DONE)};this.request.abort()};h.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return h}();Object(wa.a)(e);var a;(function(h){h[h.LOCAL_HEADER=0]="LOCAL_HEADER";h[h.FILE=1]="FILE";h[h.CENTRAL_DIR=2]="CENTRAL_DIR"})(a||(a={}));var b=function(h){function n(){var w=h.call(this)||this;w.buffer="";w.state=a.LOCAL_HEADER;w.rT=4;w.po=null;w.sw=ia.c;w.Zp={};return w}Object(pa.c)(n,h);n.prototype.kva=function(w){var z;for(w=this.buffer+w;w.length>=this.sw;)switch(this.state){case a.LOCAL_HEADER:this.po=z=this.vva(w.slice(0,this.sw));if(z.bx!==
ia.g)throw Error("Wrong signature in local header: "+z.bx);w=w.slice(this.sw);this.state=a.FILE;this.sw=z.HM+z.jt+z.Az+this.rT;this.trigger(n.Events.HEADER,[z]);break;case a.FILE:this.po.name=w.slice(0,this.po.jt);this.Zp[this.po.name]=this.po;z=this.sw-this.rT;var ca=w.slice(this.po.jt+this.po.Az,z);this.trigger(n.Events.FILE,[this.po.name,ca,this.po.aN]);w=w.slice(z);if(w.slice(0,this.rT)===ia.h)this.state=a.LOCAL_HEADER,this.sw=ia.c;else return this.state=a.CENTRAL_DIR,!0}this.buffer=w;return!1};
n.Events={HEADER:"header",FILE:"file"};return n}(ha.a);Object(wa.a)(b);wa=function(h){function n(w,z,ca,ea,ba){ca=h.call(this,w,ca,ea)||this;ca.url=w;ca.stream=new e(w,z);ca.le=new b;ca.G5=window.createPromiseCapability();ca.k6={};ca.hg=ba;return ca}Object(pa.c)(n,h);n.prototype.SB=function(w){var z=this;this.request([this.Rk,this.Rm,this.Qk]);this.stream.addEventListener(e.Events.DATA,function(ca){try{if(z.le.kva(ca))return z.stream.finish()}catch(ea){throw z.stream.abort(),z.ps(ea),w(ea),ea;}});
this.stream.addEventListener(e.Events.DONE,function(ca){z.Kua=!0;z.G5.resolve();ca&&(z.ps(ca),w(ca))});this.le.addEventListener(b.Events.HEADER,Object(na.bind)(this.j6,this));this.le.addEventListener(b.Events.FILE,Object(na.bind)(this.Mva,this));return this.stream.start(this.hg,this.withCredentials)};n.prototype.s1=function(w){var z=this;this.G5.promise.then(function(){w(Object.keys(z.le.Zp))})};n.prototype.Kq=function(){return!0};n.prototype.request=function(w){var z=this;this.Kua&&w.forEach(function(ca){z.k6[ca]||
z.qBa(ca)})};n.prototype.j6=function(){};n.prototype.abort=function(){this.stream&&this.stream.abort()};n.prototype.qBa=function(w){this.trigger(ka.a.Events.PART_READY,[{zb:w,error:"Requested part not found",Wj:!1,lh:!1}])};n.prototype.Mva=function(w,z,ca){this.k6[w]=!0;this.trigger(ka.a.Events.PART_READY,[{zb:w,data:z,Wj:!1,lh:!1,error:null,Qd:ca}])};return n}(ka.a);Object(r.a)(wa);Object(r.b)(wa);sa["default"]=wa}}]);}).call(this || window)

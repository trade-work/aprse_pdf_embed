/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{518:function(wa,sa,r){r.r(sa);r.d(sa,"ByteRangeRequest",function(){return w});var pa=r(0),na=r(1);r.n(na);var oa=r(3),ia=r(177);wa=r(113);var ka=r(295),ha=r(89),y=r(86),x=r(294),f=r(195);r=r(439);var e=[],a=[],b=window,h=function(){return function(){this.Ho=1}}(),n;(function(ca){ca[ca.UNSENT=0]="UNSENT";ca[ca.DONE=4]="DONE"})(n||(n={}));var w=function(){function ca(ea,ba,fa,aa){var ma=this;this.url=ea;this.range=ba;this.hg=fa;
this.withCredentials=aa;this.oca=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");aa&&(this.request.withCredentials=aa);z.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(ba.stop)?this.request.setRequestHeader("Range","bytes="+ba.start):this.request.setRequestHeader("Range",["bytes=",ba.start,"-",ba.stop-1].join("")));fa&&Object.keys(fa).forEach(function(la){ma.request.setRequestHeader(la,fa[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}ca.prototype.start=function(ea){var ba=this,fa=this.request;fa.onreadystatechange=function(){if(ba.aborted)return ba.status=x.a.ABORTED,ea({code:x.a.ABORTED});if(this.readyState===ba.oca.DONE){ba.OG();var aa=0===window.document.URL.indexOf("file:///");200===fa.status||206===fa.status||aa&&0===fa.status?(aa=b.z1(this),ba.zT(aa,ea)):(ba.status=
x.a.ERROR,ea({code:ba.status,status:ba.status}))}};this.request.send(null);this.status=x.a.STARTED};ca.prototype.zT=function(ea,ba){this.status=x.a.SUCCESS;if(ba)return ba(!1,ea)};ca.prototype.abort=function(){this.OG();this.aborted=!0;this.request.abort()};ca.prototype.OG=function(){var ea=Object(f.c)(this.url,this.range,a);-1!==ea&&a.splice(ea,1);if(0<e.length){ea=e.shift();var ba=new ca(ea.url,ea.range,this.hg,this.withCredentials);ea.request=ba;a.push(ea);ba.start(Object(f.d)(ea))}};ca.prototype.extend=
function(ea){var ba=Object.assign({},this,ea.prototype);ba.constructor=ea;return ba};return ca}(),z=function(ca){function ea(ba,fa,aa,ma,la){aa=ca.call(this,ba,aa,ma)||this;aa.Ek={};aa.hF=fa;aa.url=ba;aa.DISABLE_RANGE_HEADER=!1;aa.KB=w;aa.SU=3;aa.hg=la||{};return aa}Object(pa.c)(ea,ca);ea.prototype.gz=function(ba,fa,aa){var ma=-1===ba.indexOf("?")?"?":"&";switch(aa){case !1:case y.a.NEVER_CACHE:ba=ba+ma+"_="+Object(na.uniqueId)();break;case !0:case y.a.CACHE:ba=ba+ma+"_="+fa.start+","+(Object(na.isUndefined)(fa.stop)?
"":fa.stop)}return ba};ea.prototype.LZ=function(ba,fa,aa,ma){void 0===aa&&(aa={});return new this.KB(ba,fa,aa,ma)};ea.prototype.Gla=function(ba,fa,aa,ma,la){for(var ja=0;ja<e.length;ja++)if(Object(na.isEqual)(e[ja].range,fa)&&Object(na.isEqual)(e[ja].url,ba))return e[ja].Vh.push(ma),e[ja].$H++,null;for(ja=0;ja<a.length;ja++)if(Object(na.isEqual)(a[ja].range,fa)&&Object(na.isEqual)(a[ja].url,ba))return a[ja].Vh.push(ma),a[ja].$H++,null;aa={url:ba,range:fa,hF:aa,Vh:[ma],$H:1};if(0===e.length&&a.length<
this.SU)return a.push(aa),aa.request=this.LZ(ba,fa,la,this.withCredentials),aa;e.push(aa);return null};ea.prototype.Aq=function(ba,fa,aa){var ma=this.gz(ba,fa,this.hF);(ba=this.Gla(ma,fa,this.hF,aa,this.hg))&&ba.request.start(Object(f.d)(ba));return function(){var la=Object(f.c)(ma,fa,a);if(-1!==la){var ja=--a[la].$H;0===ja&&a[la].request&&a[la].request.abort()}else la=Object(f.c)(ma,fa,e),-1!==la&&(ja=--e[la].$H,0===ja&&e.splice(la,1))}};ea.prototype.T0=function(){return{start:-ia.a}};ea.prototype.gqa=
function(){var ba=-(ia.a+ia.e);return{start:ba-ia.d,end:ba}};ea.prototype.ow=function(ba){var fa=this;this.oF=!0;var aa=ia.a;this.Aq(this.url,this.T0(),function(ma,la,ja){function ra(){var qa=fa.le.Q0();fa.Aq(fa.url,qa,function(ta,va){if(ta)return Object(oa.j)("Error loading central directory: "+ta),ba(ta);va=Object(ha.a)(va);if(va.length!==qa.stop-qa.start)return ba("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+va.length);fa.le.a6(va);fa.UM=
!0;fa.oF=!1;return ba(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+ma),ba(ma,la,ja);la=Object(ha.a)(la);if(la.length!==aa)return ba("Invalid XOD file: Zip end header data is wrong size!");try{fa.le=new ka.a(la)}catch(qa){return ba(qa)}fa.le.csa?fa.Aq(fa.url,fa.gqa(),function(qa,ta){if(qa)return Object(oa.j)("Error loading zip64 header: "+qa),ba(qa);ta=Object(ha.a)(ta);fa.le.Esa(ta);ra()}):ra()})};ea.prototype.s1=function(ba){ba(Object.keys(this.le.Zp))};ea.prototype.PR=function(ba,
fa){var aa=this;if(this.le.AZ(ba)){var ma=this.le.Vz(ba);if(ma in this.Ek){var la=this.vi[ba];la.Yu=this.Ek[ma];la.Yu.Ho++;la.cancel=la.Yu.cancel}else{var ja=this.le.goa(ba),ra=this.Aq(this.url,ja,function(ta,va){ta?(Object(oa.j)('Error loading part "'+ba+'": '+ta),aa.Aq(aa.url,ja,function(ya,Ja){if(ya)return fa(ya,ba);aa.e6(Ja,ja,ma,ba,fa)})):aa.e6(va,ja,ma,ba,fa)}),qa=this.vi[ba];qa&&(qa.N8=!0,qa.cancel=function(){qa.Yu.Ho--;0===qa.Yu.Ho&&(ra(),delete aa.Ek[ma])},this.Ek[ma]=new h(ma),qa.Yu=this.Ek[ma],
qa.Yu.cancel=qa.cancel)}}else delete this.vi[ba],fa(Error('File not found: "'+ba+'"'),ba)};ea.prototype.e6=function(ba,fa,aa,ma,la){if(ba.length!==fa.stop-fa.start)la(Error("Part data is wrong size!"),ma);else{do{if(!this.Ek[aa])return;ma=this.Ek[aa].Ho;for(var ja=fa.yt.length,ra=0;ra<ja;++ra){var qa=fa.yt[ra];la(!1,qa.ut,ba["string"===typeof ba?"substring":"subarray"](qa.start,qa.stop),this.le.S2(qa.ut));qa.ut in this.vi&&delete this.vi[qa.ut]}}while(ma!==this.Ek[aa].Ho);delete this.Ek[aa]}};ea.DISABLE_RANGE_HEADER=
!1;ea.SU=3;return ea}(wa.a);(function(ca){function ea(ba,fa,aa){var ma=ca.call(this)||this,la;for(la in ba)ma[la]=ba[la];ma.SFa=ba;ma.startOffset=fa;ma.endOffset=aa;ma.LZ=function(ja,ra,qa,ta){Object(na.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ja=ma.gz(ma.url,ra,ma.hF);return new ba.KB(ja,ra,qa,ta)};return ma}Object(pa.c)(ea,ca);return ea})(z);Object(r.a)(z);Object(r.b)(z);sa["default"]=z}}]);}).call(this || window)
